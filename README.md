# Проект: Аутентификация и Авторизация с использованием Spring Security и JWT

## Оглавление
1. [Описание проекта](#описание-проекта)
2. [Структура проекта](#структура-проекта)
3. [Установка и запуск](#установка-и-запуск)
4. [Использование API](#использование-api)
   - [Регистрация пользователя](#регистрация-пользователя)
   - [Авторизация пользователя (JWT)](#авторизация-пользователя-jwt)
   - [Доступ к защищенным ресурсам](#доступ-к-защищенным-ресурсам)
5. [Тестирование](#тестирование)

## Описание проекта
Этот проект представляет собой базовое веб-приложение с функциями аутентификации и авторизации, реализованное с использованием Spring Boot, Spring Security и JWT. Приложение позволяет пользователям регистрироваться, получать токен аутентификации и использовать этот токен для доступа к защищенным ресурсам.

## Структура проекта

- **`/src/main/java`**
  - **`controller`**: Содержит контроллеры для обработки запросов аутентификации и регистрации.
  - **`model`**: Модели данных для пользователей и ролей.
  - **`repository`**: Репозитории для взаимодействия с базой данных.
  - **`security`**: Конфигурация Spring Security и классы для работы с JWT.
  - **`service`**: Сервисы для бизнес-логики и взаимодействия с репозиториями.
  - **`util`**: Утилитарные классы, такие как кодировщик паролей.
  
- **`/src/main/resources`**
  - **`application.properties`**: Конфигурационный файл для настройки приложения, базы данных и безопасности.

- **`/src/test/java`**: Тесты для контроллеров, сервисов и конфигурации безопасности.

## Установка и запуск

1. **Клонирование репозитория:**
   ```bash
   git clone <URL-репозитория>
   cd <имя-проекта>

## Описание проекта

Это веб-приложение на базе Spring Boot с использованием Spring Security и JWT для аутентификации и авторизации пользователей. Данные пользователей хранятся в базе данных PostgreSQL.

## Настройка проекта

1. **Создание проекта**

   Проект создан с использованием Spring Boot. Зависимости для Spring Security и JWT включены в `pom.xml`.

2. **Настройка базы данных**

   Подключите PostgreSQL и настройте параметры подключения в `application.properties`:

   ```properties
   spring.datasource.url=jdbc:postgresql://localhost:5432/your_db
   spring.datasource.username=your_username
   spring.datasource.password=your_password
    ```
   
## Использование API
### Регистрация пользователя
URL: /api/auth/signup
Метод: POST
Описание: Создание нового пользователя.

Тело запроса:
```json
{
  "username": "newuser",
  "password": "securepassword"
}
```

### Авторизация пользователя (JWT)
URL: /api/auth/login
Метод: POST
Описание: Аутентификация пользователя и получение JWT токена.

Тело запроса:

```json
{
  "username": "newuser",
  "password": "securepassword"
}
```

Ответ:
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```


### Доступ к защищенным ресурсам
URL: /api/protected/resource
Метод: GET
Описание: Получение защищенного ресурса.

Authorization: Bearer <ваш JWT токен>

### Тестирование
Запуск тестов:

```bash
./mvnw test
```

Тесты охватывают:
- Контроллеры аутентификации и регистрации.
- Сервисы для работы с пользователями.
- Конфигурацию безопасности и JWT.




